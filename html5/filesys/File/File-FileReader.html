<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <input type="file" id="myfiles" multiple><br>
    <img id="img" width="150px">
    <p id="info"></p>
    <script>
      var info = document.getElementById('info'),
          myfiles = document.getElementById('myfiles');
      myfiles.addEventListener('change',function(){
        if(!myfiles.value) {
          info.innerHTML = "没有选择文件";
          return;
        }
        var file = myfiles.files[0];
        info.innerHTML = '文件' + file.name + '<br>' +
                         '大小' + file.size + '<br>' + 
                         '类型' + file.type + '<br>' +
                         '修改' + file.lastModifiedDate + '<br>';
        if(file.type != 'image/jpeg' && file.type != 'image/png' && file.type != 'image/gif') {
          alert('不是有效图片');
          return;
        }
        var fileReader = new FileReader();
        fileReader.onloadend = function(e) {
          document.getElementById('img').src = e.target.result;
          console.log(this.files);
        }
        fileReader.readAsDataURL(this.files[0]);
        //fileReader.readAsBinaryString(this.files[0]);
      },false);
    </script>
  </body>
</html>
